<!DOCTYPE html>
<html lang="zh-Hans" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>你好, Hexo！ - Dvel&#39;s Blog</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Dvel" />
  <meta name="description" content="因为之前的 WordPress 博客域名被墙，加上 Hexo 正好满足于简单的书写要求，所以更换为 Hexo。 主要还是记录了自己的搭建过程，因为对 Linux 不太熟悉，以备忘为主。 后" />

  <meta name="keywords" content="Dvel" />


<meta name="baidu-site-verification" content="SuLNTY16ns" />
<meta name="google-site-verification" content="TBsJFrrOXdnvNzVNaVSdgDOfCpOes1ZRRqCXbDsyC7c" />


<meta name="generator" content="Hugo 0.57.2" />


<link rel="canonical" href="https://Dvel.xyz/post/0/" />



<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.ec807d8b802a40889537c26e014f733206312ea440d42e1f0dabed80918de1ac.css" integrity="sha256-7IB9i4AqQIiVN8JuAU9zMgYxLqRA1C4fDavtgJGN4aw=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="你好, Hexo！" />
<meta property="og:description" content="因为之前的 WordPress 博客域名被墙，加上 Hexo 正好满足于简单的书写要求，所以更换为 Hexo。 主要还是记录了自己的搭建过程，因为对 Linux 不太熟悉，以备忘为主。 后" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Dvel.xyz/post/0/" />
<meta property="article:published_time" content="2016-11-27T00:48:36+00:00" />
<meta property="article:modified_time" content="2017-01-18T17:11:35+00:00" />
<meta itemprop="name" content="你好, Hexo！">
<meta itemprop="description" content="因为之前的 WordPress 博客域名被墙，加上 Hexo 正好满足于简单的书写要求，所以更换为 Hexo。 主要还是记录了自己的搭建过程，因为对 Linux 不太熟悉，以备忘为主。 后">


<meta itemprop="datePublished" content="2016-11-27T00:48:36&#43;00:00" />
<meta itemprop="dateModified" content="2017-01-18T17:11:35&#43;00:00" />
<meta itemprop="wordCount" content="2196">



<meta itemprop="keywords" content="Hexo,Blog," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="你好, Hexo！"/>
<meta name="twitter:description" content="因为之前的 WordPress 博客域名被墙，加上 Hexo 正好满足于简单的书写要求，所以更换为 Hexo。 主要还是记录了自己的搭建过程，因为对 Linux 不太熟悉，以备忘为主。 后"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Dvel&#39;s Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/">Home</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/post/">Archives</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/tags/">Tags</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/friends/">Friends</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/about/">About</a>
          
        
      </li>
    
  </ul>
</nav>


  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Dvel's Blog
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/">Home</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/post/">Archives</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/tags/">Tags</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/friends/">Friends</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/about/">About</a>
          

        

      </li>
    
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">你好, Hexo！</h1>
      
      <div class="post-meta">
        <time datetime="2016-11-27" class="post-time">
          2016-11-27
        </time>
        
        

        
        
          <span id="busuanzi_container_page_pv">
            | 阅读 <span id="busuanzi_value_page_pv"></span>
          </span>
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li><a href="#方法一">方法一：</a>
<ul>
<li><a href="#本地搭建">本地搭建</a>
<ul>
<li><a href="#安装-node-js">安装 node.js</a></li>
<li><a href="#安装-hexo">安装 Hexo</a></li>
<li><a href="#ssh-秘钥">ssh 秘钥</a></li>
</ul></li>
<li><a href="#vps-端搭建">VPS 端搭建</a>
<ul>
<li><a href="#更新与安装-centos">更新与安装（centOS）</a></li>
<li><a href="#创建-git-用户及设置-ssh-免密码登陆">创建 git 用户及设置 ssh 免密码登陆</a></li>
<li><a href="#回到-vps-创建-git-仓库">回到 VPS，创建 git 仓库:</a></li>
<li><a href="#创建网站目录并赋予-git-对网站目录的所有权">创建网站目录并赋予 git 对网站目录的所有权</a></li>
<li><a href="#配置-git-hooks">配置 git hooks</a></li>
<li><a href="#配置-nginx">配置 Nginx</a></li>
</ul></li>
<li><a href="#本机的最后配置">本机的最后配置</a></li>
</ul></li>
<li><a href="#方法二-利用一键安装包">方法二，利用一键安装包</a></li>
<li><a href="#方法三-coding-pages">方法三，Coding Pages</a></li>
<li><a href="#编写文章-更新博客">编写文章、更新博客</a></li>
<li><a href="#遇到的坑">遇到的坑</a></li>
<li><a href="#参考-感谢">参考&amp;感谢</a></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<p>因为之前的 WordPress 博客域名被墙，加上 Hexo 正好满足于简单的书写要求，所以更换为 Hexo。</p>

<p>主要还是记录了自己的搭建过程，因为对 Linux 不太熟悉，以备忘为主。</p>

<p>后面换到了Coding Pages 上搭建，主要是简单方便省心，自带了 https，速度也凑合。</p>

<h1 id="方法一">方法一：</h1>

<h2 id="本地搭建">本地搭建</h2>

<h3 id="安装-node-js">安装 node.js</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ brew install node</pre></td></tr></table>
</div>
</div>
<h3 id="安装-hexo">安装 Hexo</h3>

<p>先cd进入创建好的hexo目录：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ sudo npm install -g hexo-cli
$ hexo init
$ npm install
$ hexo d -fg
$ hexo serve</pre></td></tr></table>
</div>
</div>
<p>打开<a href="http://localhost:4000如果看到hexo的初始页面证明安装成功。">http://localhost:4000如果看到hexo的初始页面证明安装成功。</a></p>

<h3 id="ssh-秘钥">ssh 秘钥</h3>

<p>一路回车生成公钥和私钥：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ ssh-keygen -t rsa -C &#34;email@example.com&#34;</pre></td></tr></table>
</div>
</div>
<p>之后在本地目录 <code>~/.ssh/</code> 下可以看到私钥 <code>id_rsa</code> 和公钥 <code>id_rsa.pub</code> 已经生成。</p>

<p>安装 <code>ssh-copy-id</code> 等会用，方便上传公钥。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ brew install ssh-copy-id</pre></td></tr></table>
</div>
</div>
<h2 id="vps-端搭建">VPS 端搭建</h2>

<h3 id="更新与安装-centos">更新与安装（centOS）</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ yum update
$ yum install nginx -y
$ yum install git-core</pre></td></tr></table>
</div>
</div>
<h3 id="创建-git-用户及设置-ssh-免密码登陆">创建 git 用户及设置 ssh 免密码登陆</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ adduser git
$ passwd git
$ chmod 740 /etc/sudoers
$ vim /etc/sudoers
(提示没有安装vim的可以用vi命令，或安装vim:)
$ yum -y install vim*</pre></td></tr></table>
</div>
</div>
<p>在编辑器中找到以下内容并添加一行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></pre></td>
<td class="lntd">
<pre class="chroma">## Allow root to run any commands anywhere
root    ALL=(ALL)     ALL
git     ALL=(ALL)     ALL (这行是添加的)</pre></td></tr></table>
</div>
</div>
<p>保存退出并执行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ chmod 440 /etc/sudoers</pre></td></tr></table>
</div>
</div>
<p>接下来切到本地的终端，上传公钥：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ ssh-copy-id -i ~/.ssh/id_rsa.pub git@123.123.123.123</pre></td></tr></table>
</div>
</div>
<p>测试一下，如果 <code>$ ssh git@VPS的IP地址</code> ,能够免密码登录的话，则表示成功。</p>

<h3 id="回到-vps-创建-git-仓库">回到 VPS，创建 git 仓库:</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ su git
$ cd ~
$ mkdir hexo.git &amp;&amp; cd hexo.git
$ git init --bare</pre></td></tr></table>
</div>
</div>
<h3 id="创建网站目录并赋予-git-对网站目录的所有权">创建网站目录并赋予 git 对网站目录的所有权</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ su root
$ cd /var/www
$ mkdir hexo
$ chown git:git -R /var/www/hexo</pre></td></tr></table>
</div>
</div>
<h3 id="配置-git-hooks">配置 git hooks</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ su git
$ cd /home/git/hexo.git/hooks
$ vim post-receive</pre></td></tr></table>
</div>
</div>
<p>写入以下内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></pre></td>
<td class="lntd">
<pre class="chroma"><span class="cp">#!/bin/bash
</span><span class="cp"></span><span class="nv">GIT_REPO</span><span class="o">=</span>/home/git/hexo.git <span class="c1">#git仓库</span>
<span class="nv">TMP_GIT_CLONE</span><span class="o">=</span>/tmp/hexo
<span class="nv">PUBLIC_WWW</span><span class="o">=</span>/var/www/hexo <span class="c1">#网站目录</span>
rm -rf <span class="si">${</span><span class="nv">TMP_GIT_CLONE</span><span class="si">}</span>
git clone <span class="nv">$GIT_REPO</span> <span class="nv">$TMP_GIT_CLONE</span>
rm -rf <span class="si">${</span><span class="nv">PUBLIC_WWW</span><span class="si">}</span>/*
cp -rf <span class="si">${</span><span class="nv">TMP_GIT_CLONE</span><span class="si">}</span>/* <span class="si">${</span><span class="nv">PUBLIC_WWW</span><span class="si">}</span></pre></td></tr></table>
</div>
</div>
<p>然后赋予脚本的执行权限</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ chmod +x post-receive</pre></td></tr></table>
</div>
</div>
<h3 id="配置-nginx">配置 Nginx</h3>

<p>启动 nginX:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></pre></td>
<td class="lntd">
<pre class="chroma">systemctl status nginx.service      // 查看服务当前状态
systemctl start nginx.service       // 启动nginx服务
systemctl restart nginx.service     // 重新启动服务

systemctl enable nginx.service      // 设置开机自启动
systemctl disable nginx.service     // 停止开机自启动

systemctl list-units --type=service // 查看所有已启动的服务</pre></td></tr></table>
</div>
</div>
<p>然后：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ vim /etc/nginx/conf.d/hexo.conf</pre></td></tr></table>
</div>
</div>
<p>插入如下代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></pre></td>
<td class="lntd">
<pre class="chroma">server {
    listen         80 ;
    root /var/www/hexo;//这里可以改成你的网站目录地址，我将网站放在/var/www/hexo
    server_name example.com www.example.com;//这里输入你的域名或IP地址
    access_log  /var/log/nginx/hexo_access.log;
    error_log   /var/log/nginx/hexo_error.log;
    location ~* ^.+\.(ico|gif|jpg|jpeg|png)$ {
            root /var/www/hexo;
            access_log   off;
            expires      1d;
    }
    location ~* ^.+\.(css|js|txt|xml|swf|wav)$ {
        root /var/www/hexo;
        access_log   off;
        expires      10m;
    }
    location / {
        root /var/www/hexo;//这里可以改成你的网站目录地址，我将网站放在/var/www/hexo
        if (-f $request_filename) {
            rewrite ^/(.*)$  /$1 break;
        }
    }
}</pre></td></tr></table>
</div>
</div>
<p>然后重启nginx，此时刷新网页应该显示的是403。</p>

<h2 id="本机的最后配置">本机的最后配置</h2>

<p>位于 <code>hexo</code> 文件夹下，<code>_config.yml</code>,修改 <code>deploy</code> 选项，例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></pre></td>
<td class="lntd">
<pre class="chroma">deploy:
  type: git
  message: update  # 这个可以不写，会默认生成update日期
  repo: git@123.123.123.123:hexo.git,master # 逗号后面写分支</pre></td></tr></table>
</div>
</div>
<p>部署到多个仓库可以这么写：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></pre></td>
<td class="lntd">
<pre class="chroma">deploy: 
  - type: git
    repo: git@git.coding.net:Dvel/Dvel.git,master
  - type: git
    repo: git@github.com:iDvel/Dvel-Hexo.git,master</pre></td></tr></table>
</div>
</div>
<p>每次更新博客也可以让github上长点绿草了。。。</p>

<p>接下来安装 <strong>hexo-deployer-git</strong> ，否则部署时会报这个错&rdquo;<em>ERROR Deployer not found: git</em>&ldquo;。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">$ npm install hexo-deployer-git --save</pre></td></tr></table>
</div>
</div>
<p>接着<code>$ hexo g &amp;&amp; hexo d</code>，如果一切正常，静态文件已经被成功的push到了blog的仓库里。</p>

<p>期间我忘了还出了个什么错，删除<code>hexo</code>目录下的<code>.deploy_git</code>后再次<code>hexo g &amp;&amp; hexo d</code>就可以了。</p>

<p>以上，博客已经完全建好了。</p>

<p><code>$ hexo generate</code>是生成静态文件。</p>

<p><code>$ hexo deploy</code>是部署，我们这里选择了Git，Hexo还支持其他部署形式。</p>

<p>所以每次写完文章，执行这两个命令后，就对网站完成了更新。</p>

<p>简化操作就是：<code>$ hexo g &amp;&amp; hexo d</code> ，再简化就是<code>$ hexo d -g</code>，效果一样。</p>

<h1 id="方法二-利用一键安装包">方法二，利用一键安装包</h1>

<p>因为不太熟悉 Linux，所以我选择了一键安装包，多站点管理方便些。</p>

<p>我用的这个 -&gt; <a href="https://oneinstack.com/">OneinStack官网</a></p>

<p>步骤和上面差不多，但是很多路径要改一下，也可以很简单的搭建出Hexo。</p>

<h1 id="方法三-coding-pages">方法三，Coding Pages</h1>

<ol>
<li><p>coding 中创建项目</p></li>

<li><p>站点配置文件<code>_config.yml</code> 中 <code>deploy</code> 中写好 coding 项目的 git 地址</p></li>

<li><p>push 上去：<code>$ hexo d -g</code></p></li>

<li><p>在 coding 上你的项目，开启 Pages 服务：可以自定义分支，绑定域名，开启 https</p></li>

<li><p>大功告成</p></li>
</ol>

<p>​</p>

<p>这个相对简单一些，Coding Pages 服务目前提供 100M 空间的支持，一般来说没有写文章的话，生成的 <code>public</code> 文件夹大约小于5M。</p>

<p>100M 基本够写很多年的博客，至于图片应该另寻图床，不要放到 coding 上，否则空间很快用完。</p>

<h1 id="编写文章-更新博客">编写文章、更新博客</h1>

<p>使用一款 MarkDown 编辑器写文章 ，写完后将文件以 *.md 的格式保存在本地 <code>[网站目录]\source_posts</code> 中。</p>

<p>Markdown 编辑器，强烈安利 Typora。</p>

<p>每篇 Blog 都有固定的参数必须填写，参数如下，注意每个参数的 : 后都有一个空格。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></pre></td>
<td class="lntd">
<pre class="chroma">title: title
date: yyyy-mm-dd
categories: category  
tags: tag
#多标签请这样写：  
#tags: [tag1,tag2,tag3]
#或者这样写： 
#tags:
#- tag1 
#- tag2  
#- tag3  
---  
正文  </pre></td></tr></table>
</div>
</div>
<p>或者使用 <code>$ hexo new</code> 命令，具体官网有详细说明。</p>

<p>编写完后，只需要在hexo文件夹下执行 <code>hexo g &amp;&amp; hexo d</code>，博客即可更新。</p>

<h1 id="遇到的坑">遇到的坑</h1>

<p>设置了 ssh 免密码登陆后，依然需要密码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></pre></td>
<td class="lntd">
<pre class="chroma">这整段是以前使用的方法，过时了。。。
设置ssh免密码登陆：
su git
cd ~
mkdir .ssh &amp;&amp; cd .ssh
touch authorized_keys
vim authorized_keys  //在这个文件中粘贴进刚刚申请的key（在id_rsa.pub文件中）
设置权限：
chmod o-w ~/
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys

测试免密码登陆
ssh -vvT git@123.123.123.123   // 你的VPS的IP地址
发现依然需要密码，搜了好几天没找到解决办法，后来采用了ssh-copy-id，解决了这个问题。</pre></td></tr></table>
</div>
</div>
<p>如果过程中重新初始化过 VPS 的磁盘，ssh 连接 VPS 的时候可能会提示 <code>Host key verification failed.</code> 。<br />
运行此命令即可：<code>$ ssh-keygen -R 123.123.123.123</code>，将 123.123.123.123 改成你的 VPS 的 IP。<br />
或者简单粗暴直接删除 <code>known_hosts</code> 文件。</p>

<h1 id="参考-感谢">参考&amp;感谢</h1>

<ul>
<li><a href="https://hexo.io/">Hexo官网</a></li>
<li><a href="http://tiktoking.github.io/2016/01/26/hexo/#u521B_u5EFA_u7F51_u7AD9_u76EE_u5F55">在VPS上搭建hexo博客，利用git更新 - WikiLibrary</a></li>
<li><a href="http://buzhidao.me/2016/02/01/%E5%9C%A8VPS%E4%B8%8A%E9%85%8D%E7%BD%AEhexo%E5%8D%9A%E5%AE%A2/">在VPS上配置hexo博客 - Springwon</a></li>
<li><a href="http://huifeng.me/2015/08/16/deploy-hexo-to-vps/">Deploy Hexo sites to VPS - 回风.Me</a></li>
</ul>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Dvel</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">2017-01-18</span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">赞赏支持</label>
  <div class="qr-code">
    
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/reward/wechat-reward-image.jpg">
        <span>微信打赏</span>
      </label>
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/reward/alipay-reward-image.jpg">
        <span>支付宝打赏</span>
      </label>
  </div>
</div>

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://Dvel.xyz/tags/hexo/">Hexo</a>
          <a href="https://Dvel.xyz/tags/blog/">Blog</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/2/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">GitBook简单生成本地静态HTML的方法</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
      </nav>
    </footer>
  </article>

  
  

  
  

  
  

  

  

  
  
    



        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:me@dvel.me" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/iDvel" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://www.douban.com/people/dvel/" rel="me noopener" class="iconfont"
      title="douban"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M926.917973 37.80608C959.65184 37.80608 986.19392 64.34816 986.19392 97.082027L986.19392 926.917973C986.19392 959.65184 959.65184 986.19392 926.917973 986.19392L97.082027 986.19392C64.34816 986.19392 37.80608 959.65184 37.80608 926.917973L37.80608 97.082027C37.80608 64.34816 64.34816 37.80608 97.082027 37.80608zM176.653653 176.19968 176.653653 252.678827 825.658027 252.678827 825.658027 176.19968zM217.719467 316.146347 217.719467 628.08064 273.524053 628.08064 341.292373 770.39616 157.259093 770.39616 157.259093 845.417813 842.949973 845.417813 842.949973 770.39616 654.226773 770.39616 722.899627 628.08064 783.67744 628.08064 783.67744 316.146347zM684.885333 392.891733 684.885333 553.987413 312.576 553.987413 312.576 392.891733zM570.770773 770.39616 426.653013 770.39616 359.621973 628.08064 639.443627 628.08064z"></path>
</svg>

    </a>


<a href="https://Dvel.xyz/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2016 -
    2019
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Dvel
        
      </span></span>

  
  
    <span id="busuanzi_container">
      访客数/访问量：<span id="busuanzi_value_site_uv"></span>/<span id="busuanzi_value_site_pv"></span>
    </span>
  

  
    <span>
      冀ICP备19003122号-1	
    </span>
  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>
<script id="baidu_analytics">
  var _hmt = _hmt || [];
  (function() {
    if (window.location.hostname === 'localhost') return;
    var hm = document.createElement("script"); hm.async = true;
    hm.src = "https://hm.baidu.com/hm.js?c8cbfc925ff8dea82fe6ead2ddc2e925";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>

<script id="baidu_push">
  (function(){
    if (window.location.hostname === 'localhost') return;
    var bp = document.createElement('script'); bp.async = true;
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>






  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>










</body>
</html>
