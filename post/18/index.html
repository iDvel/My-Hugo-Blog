<!DOCTYPE html>
<html lang="zh-Hans" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>《Flask Web 开发》笔记 - Dvel&#39;s Blog</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Dvel" />
  <meta name="description" content="粗略的记录了一些大纲、重点、难点、可能会遗忘、懒得记忆、方便查阅的东西，配合目录查阅。 第 1 章 - 安装 如何安装和设置 Flask 框架 venv 在 Python 3 中由标准库 venv 创" />

  <meta name="keywords" content="Dvel" />


<meta name="baidu-site-verification" content="SuLNTY16ns" />
<meta name="google-site-verification" content="TBsJFrrOXdnvNzVNaVSdgDOfCpOes1ZRRqCXbDsyC7c" />


<meta name="generator" content="Hugo 0.53" />


<link rel="canonical" href="https://Dvel.xyz/post/18/" />



<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.ec807d8b802a40889537c26e014f733206312ea440d42e1f0dabed80918de1ac.css" integrity="sha256-7IB9i4AqQIiVN8JuAU9zMgYxLqRA1C4fDavtgJGN4aw=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="《Flask Web 开发》笔记" />
<meta property="og:description" content="粗略的记录了一些大纲、重点、难点、可能会遗忘、懒得记忆、方便查阅的东西，配合目录查阅。 第 1 章 - 安装 如何安装和设置 Flask 框架 venv 在 Python 3 中由标准库 venv 创" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Dvel.xyz/post/18/" /><meta property="article:published_time" content="2019-02-22T06:21:12&#43;08:00"/>
<meta property="article:modified_time" content="2019-02-22T06:21:12&#43;08:00"/>

<meta itemprop="name" content="《Flask Web 开发》笔记">
<meta itemprop="description" content="粗略的记录了一些大纲、重点、难点、可能会遗忘、懒得记忆、方便查阅的东西，配合目录查阅。 第 1 章 - 安装 如何安装和设置 Flask 框架 venv 在 Python 3 中由标准库 venv 创">


<meta itemprop="datePublished" content="2019-02-22T06:21:12&#43;08:00" />
<meta itemprop="dateModified" content="2019-02-22T06:21:12&#43;08:00" />
<meta itemprop="wordCount" content="2011">



<meta itemprop="keywords" content="Python,Flask," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="《Flask Web 开发》笔记"/>
<meta name="twitter:description" content="粗略的记录了一些大纲、重点、难点、可能会遗忘、懒得记忆、方便查阅的东西，配合目录查阅。 第 1 章 - 安装 如何安装和设置 Flask 框架 venv 在 Python 3 中由标准库 venv 创"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Dvel&#39;s Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/">Home</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/post/">Archives</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/tags/">Tags</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/friends/">Friends</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/about/">About</a>
          
        
      </li>
    
  </ul>
</nav>


  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Dvel's Blog
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/">Home</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/post/">Archives</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/tags/">Tags</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/friends/">Friends</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://Dvel.xyz/about/">About</a>
          

        

      </li>
    
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">《Flask Web 开发》笔记</h1>
      
      <div class="post-meta">
        <time datetime="2019-02-22" class="post-time">
          2019-02-22
        </time>
        
        

        
        
          <span id="busuanzi_container_page_pv">
            | 阅读 <span id="busuanzi_value_page_pv"></span>
          </span>
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li><a href="#第-1-章-安装">第 1 章 - 安装</a>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#venv">venv</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="#第-2-章-应用的基本结构">第 2 章 - 应用的基本结构</a>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#路由">路由</a></li>
<li><a href="#flask-run">flask run</a></li>
<li><a href="#上下文">上下文</a></li>
<li><a href="#表格-flask-上下文全局变量">『表格』Flask 上下文全局变量</a></li>
<li><a href="#表格-flask-请求对象">『表格』Flask 请求对象</a></li>
<li><a href="#表格-flask-响应对象">『表格』Flask 响应对象</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="#第-3-章-模板">第 3 章 - 模板</a>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#表格-jinja2-变量过滤器">『表格』Jinja2 变量过滤器</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="#第-4-章-web-表单">第 4 章 - Web 表单</a></li>
<li><a href="#第-5-章-数据库">第 5 章 数据库</a>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#表格-最常用的-sqlalchemy-列类型">『表格』最常用的 SQLAlchemy 列类型</a></li>
<li><a href="#表格-最常用的-sqlalchemy-列选项">『表格』最常用的 SQLAlchemy 列选项</a></li>
<li><a href="#表格-常用的-sqlalchemy-查询过滤器">『表格』常用的 SQLAlchemy 查询过滤器</a></li>
<li><a href="#表格-最常用的-sqlalchemy-查询执行方法">『表格』最常用的 SQLAlchemy 查询执行方法</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="#第-6-章-电子邮件">第 6 章 电子邮件</a></li>
<li><a href="#第-7-章-大型应用的结构">第 7 章 大型应用的结构</a></li>
<li><a href="#本书涉及到的-pip-包">本书涉及到的 pip 包</a></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<blockquote>
<p>粗略的记录了一些大纲、重点、难点、可能会遗忘、懒得记忆、方便查阅的东西，配合目录查阅。</p>
</blockquote>

<h1 id="第-1-章-安装">第 1 章 - 安装</h1>

<blockquote>
<p>如何安装和设置 Flask 框架</p>
</blockquote>

<h4 id="venv">venv</h4>

<p>在 Python 3 中由标准库 <code>venv</code> 创建虚拟环境</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ python3 -m venv virtual-environment-name</code></pre></td></tr></table>
</div>
</div>
<p>使用虚拟环境：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ <span class="nb">source</span> venv/bin/activate</code></pre></td></tr></table>
</div>
</div>
<p>取消：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ deactivate</code></pre></td></tr></table>
</div>
</div>
<h1 id="第-2-章-应用的基本结构">第 2 章 - 应用的基本结构</h1>

<blockquote>
<p>通过一个简单的应用介绍如何使用 Flask</p>
</blockquote>

<h4 id="路由">路由</h4>

<p>Flask 使用  <code>app.route</code> 装饰器或者作用想通的 <code>app.add_url_rule()</code> 方法构建映射。</p>

<h4 id="flask-run">flask run</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ <span class="nb">export</span> <span class="nv">FLASK_APP</span><span class="o">=</span>hello.py
$ <span class="nb">export</span> <span class="nv">FLASK_DEBUG</span><span class="o">=</span><span class="m">1</span>
（或本行）$ <span class="nb">export</span> <span class="nv">FLASK_ENV</span><span class="o">=</span>development 效果同上<span class="o">)</span>
$ flask run</code></pre></td></tr></table>
</div>
</div>
<h4 id="上下文">上下文</h4>

<p>为了避免大量可有可无的参数把视图函数弄得一团糟，Flask 使用上下文临时把某些对象变为全局可访问。</p>

<h4 id="表格-flask-上下文全局变量">『表格』Flask 上下文全局变量</h4>

<table>
<thead>
<tr>
<th>变量名</th>
<th>上下文</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>current_app</td>
<td>应用上下文</td>
<td>当前应用的应用实例</td>
</tr>

<tr>
<td>g</td>
<td>应用上下文</td>
<td>处理请求时用作临时存储的对象，每次请求都会重设这个变量</td>
</tr>

<tr>
<td>request</td>
<td>请求上下文</td>
<td>请求对象，封装了客户端发出的 HTTP 请求中的内容</td>
</tr>

<tr>
<td>session</td>
<td>请求上下文</td>
<td>用户会话，值为一个字典，存储请求之间需要『记住』的值</td>
</tr>
</tbody>
</table>

<h4 id="表格-flask-请求对象">『表格』Flask 请求对象</h4>

<table>
<thead>
<tr>
<th>属性或方法</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>form</td>
<td>一个字典，存储请求提交的所有表单字段</td>
</tr>

<tr>
<td>args</td>
<td>一个字典，存储通过 URL 查询字符串传递的所有参数</td>
</tr>

<tr>
<td>values</td>
<td>一个字典，form 和 args 的合集</td>
</tr>

<tr>
<td>cookies</td>
<td>一个字典，存储请求的所有 cookies</td>
</tr>

<tr>
<td>headers</td>
<td>一个字典，存储请求的所有 HTTP 首部</td>
</tr>

<tr>
<td>files</td>
<td>一个字典，存储请求上传的所有文件</td>
</tr>

<tr>
<td>get_data()</td>
<td>返回请求主体缓冲的数据</td>
</tr>

<tr>
<td>get_json()</td>
<td>返回一个 Python 字典，包含解析请求主体后得到的 JSON</td>
</tr>

<tr>
<td>blueprint</td>
<td>处理请求的 Flask 蓝本的名称；蓝本在第 7 章介绍</td>
</tr>

<tr>
<td>endpoint</td>
<td>处理请求的 Flask 端点的名称；Flask 把视图函数的名称用作路由端点的名称</td>
</tr>

<tr>
<td>scheme</td>
<td>URL 方案（http 或 https）</td>
</tr>

<tr>
<td>is_secure()</td>
<td>通过安全的连接（HTTPS）发送请求时返回 True</td>
</tr>

<tr>
<td>host</td>
<td>请求定义的主机名，如果客户端定义了端口号，还包括端口号</td>
</tr>

<tr>
<td>path</td>
<td>URL 的路径部分</td>
</tr>

<tr>
<td>query_string</td>
<td>URL 的查询字符串部分，返回原始二进制值</td>
</tr>

<tr>
<td>full_path</td>
<td>URL 的路径和查询字符串部分</td>
</tr>

<tr>
<td>url</td>
<td>客户端请求的完整 URL</td>
</tr>

<tr>
<td>base_url</td>
<td>同 url，但没有查询字符串部分</td>
</tr>

<tr>
<td>remote_addr</td>
<td>客户端的 IP 地址</td>
</tr>

<tr>
<td>environ</td>
<td>请求的原始 WSGI 环境字典</td>
</tr>
</tbody>
</table>

<h4 id="表格-flask-响应对象">『表格』Flask 响应对象</h4>

<table>
<thead>
<tr>
<th>属性或方法</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>status_code</td>
<td>HTTP 数字状态码</td>
</tr>

<tr>
<td>headers</td>
<td>一个类似字典的对象，包含随响应发送的所有首部</td>
</tr>

<tr>
<td>set_cookie()</td>
<td>为响应添加一个 cookie</td>
</tr>

<tr>
<td>delete_cookie()</td>
<td>删除一个 cookie</td>
</tr>

<tr>
<td>content_length</td>
<td>响应主体的长度</td>
</tr>

<tr>
<td>content_type</td>
<td>响应主体的媒体类型</td>
</tr>

<tr>
<td>set_data()</td>
<td>使用字符串或字节值设定响应</td>
</tr>

<tr>
<td>get_data()</td>
<td>获取响应主体</td>
</tr>
</tbody>
</table>

<h1 id="第-3-章-模板">第 3 章 - 模板</h1>

<blockquote>
<p>介绍如何在 Flask 应用中使用模板</p>

<p>学习了 Jinja2 的简单使用，<code>Flask-Bootstrap</code>  扩展的应用，<code>Flask-Moment</code> 的本地化时间。</p>
</blockquote>

<h4 id="表格-jinja2-变量过滤器">『表格』Jinja2 变量过滤器</h4>

<table>
<thead>
<tr>
<th>过滤器名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>safe</td>
<td>渲染值时不转义</td>
</tr>

<tr>
<td>capitalize</td>
<td>把值的首字母转换成大写，其他字母转换成小写</td>
</tr>

<tr>
<td>lower</td>
<td>把值转换成小写形式</td>
</tr>

<tr>
<td>upper</td>
<td>把值转换成大写形式</td>
</tr>

<tr>
<td>title</td>
<td>把值中每个单词的首字母都转换成大写</td>
</tr>

<tr>
<td>trim</td>
<td>把值的首位空格删掉</td>
</tr>

<tr>
<td>striptags</td>
<td>渲染之前把值中所有的 HTML 标签都删掉</td>
</tr>
</tbody>
</table>

<h1 id="第-4-章-web-表单">第 4 章 - Web 表单</h1>

<blockquote>
<p>介绍 Web 表单</p>

<p>使用 <code>Flask-WTF</code> 扩展处理 Web 表单。</p>

<p>使用 <code>Flask-WTF</code> 和 <code>Flask-Bootstrap</code> 快速渲染表单。</p>

<p>用 POST/Redirect/GET 模式解决表单页面刷新时重复 POST 提交的问题。</p>

<p><code>flask.flash</code> 模块闪现消息的使用。</p>
</blockquote>

<h1 id="第-5-章-数据库">第 5 章 数据库</h1>

<blockquote>
<p>介绍数据库</p>
</blockquote>

<p>5.1 SQL数据库　　44
5.2 NoSQL数据库　　45
5.3 使用SQL还是NoSQL　　46
5.4 Python数据库框架　　46
5.5 使用Flask-SQLAlchemy管理数据库　　47
5.6 定义模型　　48
5.7 关系　　49
5.8 数据库操作　　51
5.8.1 创建表　　51
5.8.2 插入行　　51
5.8.3 修改行　　53
5.8.4 删除行　　53
5.8.5 查询行　　53
5.9 在视图函数中操作数据库　　55
5.10 集成Python shell　　56
5.11 使用Flask-Migrate实现数据库迁移　　56
5.11.1 创建迁移仓库　　57
5.11.2 创建迁移脚本　　57
5.11.3 更新数据库　　58
5.11.4 添加几个迁移　　59</p>

<h4 id="表格-最常用的-sqlalchemy-列类型">『表格』最常用的 SQLAlchemy 列类型</h4>

<table>
<thead>
<tr>
<th>类型名</th>
<th>Python 类型</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>Integer</td>
<td>int</td>
<td>普通整形，通常是 32 位</td>
</tr>

<tr>
<td>SmallInteger</td>
<td>int</td>
<td>取值范围小的整数，通常是 16 位</td>
</tr>

<tr>
<td>BigInteger</td>
<td>int 或 long</td>
<td>不限制精度的整数</td>
</tr>

<tr>
<td>Float</td>
<td>float</td>
<td>浮点数</td>
</tr>

<tr>
<td>Numeric</td>
<td>decimal.Decimal</td>
<td>定点数</td>
</tr>

<tr>
<td>String</td>
<td>str</td>
<td>变长字符串</td>
</tr>

<tr>
<td>Text</td>
<td>str</td>
<td>变长字符串，对较长或不限长度的字符串做了优化</td>
</tr>

<tr>
<td>Unicode</td>
<td>unicode</td>
<td>变成 Unicode 字符串</td>
</tr>

<tr>
<td>UnicodeText</td>
<td>unicode</td>
<td>变长 Unicode 字符串，对较长或不限长度的字符串做了优化</td>
</tr>

<tr>
<td>Boolean</td>
<td>bool</td>
<td>布尔值</td>
</tr>

<tr>
<td>Date</td>
<td>datetime.date</td>
<td>日期</td>
</tr>

<tr>
<td>Time</td>
<td>datetime.time</td>
<td>时间</td>
</tr>

<tr>
<td>DateTime</td>
<td>datetime.datetime</td>
<td>日期和时间</td>
</tr>

<tr>
<td>Interval</td>
<td>datetime.timedelta</td>
<td>时间间隔</td>
</tr>

<tr>
<td>Enum</td>
<td>str</td>
<td>一组字符串</td>
</tr>

<tr>
<td>PickleType</td>
<td>任何 Python 对象</td>
<td>自动使用 Pickle 序列化</td>
</tr>

<tr>
<td>LargeBinary</td>
<td>str</td>
<td>二进制 blob</td>
</tr>
</tbody>
</table>

<h4 id="表格-最常用的-sqlalchemy-列选项">『表格』最常用的 SQLAlchemy 列选项</h4>

<table>
<thead>
<tr>
<th>选项名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>primary_key</td>
<td>如果设为 True，列为表的主键</td>
</tr>

<tr>
<td>unique</td>
<td>如果设为 True，列不允许出现重复的值</td>
</tr>

<tr>
<td>index</td>
<td>如果设为 True，为列创建索引，提升查询效率</td>
</tr>

<tr>
<td>nullable</td>
<td>如果设为 True，列允许使用空值；如果设为 False，列不允许使用空值</td>
</tr>

<tr>
<td>default</td>
<td>为列定义默认值</td>
</tr>
</tbody>
</table>

<h4 id="表格-常用的-sqlalchemy-查询过滤器">『表格』常用的 SQLAlchemy 查询过滤器</h4>

<table>
<thead>
<tr>
<th>过滤器</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>filter()</td>
<td>把过滤器添加到原查询上，返回一个新查询</td>
</tr>

<tr>
<td>filter_by()</td>
<td>把等值过滤器添加到原查询上，返回一个新查询</td>
</tr>

<tr>
<td>limit()</td>
<td>使用指定的的值限制原查询返回的结果数量，返回一个新查询</td>
</tr>

<tr>
<td>offset()</td>
<td>偏移原查询返回的结果，返回一个新查询</td>
</tr>

<tr>
<td>order_by()</td>
<td>根据指定条件对原查询结果进行排序，返回一个新查询</td>
</tr>

<tr>
<td>group_by()</td>
<td>根据指定条件对原查询结果进行分组，返回一个新查询</td>
</tr>
</tbody>
</table>

<h4 id="表格-最常用的-sqlalchemy-查询执行方法">『表格』最常用的 SQLAlchemy 查询执行方法</h4>

<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>all()</td>
<td>以列表形式返回查询的所有结果</td>
</tr>

<tr>
<td>first()</td>
<td>返回查询的第一个结果，如果没有结果，则返回 None</td>
</tr>

<tr>
<td>first_or_404()</td>
<td>返回查询的第一个结果，如果没有结果，则终止请求，返回 404 错误响应</td>
</tr>

<tr>
<td>get()</td>
<td>返回指定主键对应的行，如果没有对应的行，则返回 None</td>
</tr>

<tr>
<td>get_or_404()</td>
<td>返回指定主键对应的行，如果没找到指定的主键，则终止请求，返回 404 错误响应</td>
</tr>

<tr>
<td>count()</td>
<td>返回查询结果的数量</td>
</tr>

<tr>
<td>paginate()</td>
<td>返回一个 Paginate 对象，包含指定范围内的结果</td>
</tr>
</tbody>
</table>

<h1 id="第-6-章-电子邮件">第 6 章 电子邮件</h1>

<blockquote>
<p>介绍如何实现电子邮件支持</p>
</blockquote>

<h1 id="第-7-章-大型应用的结构">第 7 章 大型应用的结构</h1>

<blockquote>
<p>提供一个可供中大型程序使用的应用结构</p>
</blockquote>

<h1 id="本书涉及到的-pip-包">本书涉及到的 pip 包</h1>

<ul>
<li>flask</li>
<li>Jinja2</li>
<li>flask-bootstrap</li>
<li>flask-moment</li>
<li>flask-wtf</li>
<li>flask-sqlachemy</li>
</ul>

<p>番茄计数：（按章节）</p>

<p>（一 ~ 四）2+4+6+3+</p>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Dvel</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">2019-02-22</span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">赞赏支持</label>
  <div class="qr-code">
    
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/reward/wechat-reward-image.jpg">
        <span>微信打赏</span>
      </label>
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/reward/alipay-reward-image.jpg">
        <span>支付宝打赏</span>
      </label>
  </div>
</div>

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://Dvel.xyz/tags/python/">Python</a>
          <a href="https://Dvel.xyz/tags/flask/">Flask</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/19/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">Python 数独</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/17/">
            <span class="next-text nav-default">Python 异步 IO 笔记</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  
  

  

  

  
  
    



        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:me@dvel.me" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/iDvel" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://www.douban.com/people/dvel/" rel="me noopener" class="iconfont"
      title="douban"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M926.917973 37.80608C959.65184 37.80608 986.19392 64.34816 986.19392 97.082027L986.19392 926.917973C986.19392 959.65184 959.65184 986.19392 926.917973 986.19392L97.082027 986.19392C64.34816 986.19392 37.80608 959.65184 37.80608 926.917973L37.80608 97.082027C37.80608 64.34816 64.34816 37.80608 97.082027 37.80608zM176.653653 176.19968 176.653653 252.678827 825.658027 252.678827 825.658027 176.19968zM217.719467 316.146347 217.719467 628.08064 273.524053 628.08064 341.292373 770.39616 157.259093 770.39616 157.259093 845.417813 842.949973 845.417813 842.949973 770.39616 654.226773 770.39616 722.899627 628.08064 783.67744 628.08064 783.67744 316.146347zM684.885333 392.891733 684.885333 553.987413 312.576 553.987413 312.576 392.891733zM570.770773 770.39616 426.653013 770.39616 359.621973 628.08064 639.443627 628.08064z"></path>
</svg>

    </a>


<a href="https://Dvel.xyz/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2016 -
    2019
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Dvel
        
      </span></span>

  
  
    <span id="busuanzi_container">
      访客数/访问量：<span id="busuanzi_value_site_uv"></span>/<span id="busuanzi_value_site_pv"></span>
    </span>
  

  
    <span>
      冀ICP备19003122号-1	
    </span>
  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>
<script id="baidu_analytics">
  var _hmt = _hmt || [];
  (function() {
    if (window.location.hostname === 'localhost') return;
    var hm = document.createElement("script"); hm.async = true;
    hm.src = "https://hm.baidu.com/hm.js?c8cbfc925ff8dea82fe6ead2ddc2e925";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>

<script id="baidu_push">
  (function(){
    if (window.location.hostname === 'localhost') return;
    var bp = document.createElement('script'); bp.async = true;
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>






  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>










</body>
</html>
